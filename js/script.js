var wsuFOS=wsuFOS||{},wsuIPTheme=wsuIPTheme||{};!function(e,t,a,o,n,i){"use strict";var s=!1,r=!1,h=!1,c=!1,l="",d="",u="";n.appView=t.View.extend({initialize:function(){a(document).scroll(this.scrollStickyHeader),a(document).on("touchmove",this.scrollStickyHeader),a(document).trigger("scroll")},scrollStickyHeader:function(){var e=a(document).scrollTop();if(""===l&&(l=a(".size-lt-large").length>0),!1===h&&(h=l?50:a(".main-header-sitename").height()+a(".main-header-sitename").offset().top),""===d&&(d=a(".sup-header-default").text()),""===u&&(u=a(".anchor-nav-wrapper").length>0&&a(".anchor-nav-wrapper")),!1!==u){!1===s&&(s=u.offset().top),!1===r&&(r=u.outerHeight());var t=s-e;t<=h&&!1===c&&(c=!0,a(".sup-header-default").fadeOut(100,function(){a(this).text(a(".ip-headline h1").text()).fadeIn(200)}),a("body").addClass("fixed-header")),t>h&&!0===c&&(c=!1,a(".sup-header-default").fadeOut(100,function(){a(this).text(d).fadeIn(200)}),a("body").removeClass("fixed-header"),u.css("top",""))}}}),a("a[href*='#']:not([href='#'])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=a(this.hash);if((e=e.length?e:a("[name="+this.hash.slice(1)+"]")).length)return a("html,body").animate({scrollTop:e.offset().top},1e3),!1}});var f=function(){a(".trigger-modal").on("click",function(e){e.preventDefault();var t=a(this).data("modal");a("body").addClass("noscroll"),a("#"+t).show(),a(".close-modal").on("click",function(){a("#"+t).hide(),a("body").removeClass("noscroll")})})},p=function(){var t=a(document).height(),o=a(e).height(),n=0;if(a(".admin-bar").length>0&&(t-=32,n=32),o===t){var i=a("div.page section").last(),s=i.outerHeight()+(t-a(".main-footer-sitename").offset().top)-30+n;i.css("min-height",s)}};a(document).ready(function(){e.wsuIPTheme.app=new n.appView,void 0!==i.appView&&(i.app=new i.appView),p(),f()})}(window,Backbone,jQuery,_,wsuIPTheme,wsuFOS);